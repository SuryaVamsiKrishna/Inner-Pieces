<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>cart</title>    
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css" integrity="sha384-TX8t27EcRE3e/ihU7zmQxVncDAy5uIKz4rEkgIXeMed4M0jlfIDPvg6uqKI2xXr2" crossorigin="anonymous">
</head>
<body>
    <nav class="navbar navbar-Dark bg-dark">
        <a class="navbar-brand" href="#">
          <p style="color: white;"> Powered by <b style="color: rgb(179, 175, 175);">Inner Pieces</b></p>
        </a>
      </nav>
    <div class="container" style="margin-top: 5%; border: 1px solid grey ; border-radius:2px; padding:10px;">
    
    <a href="{% url 'store' %}" class="btn btn-primary">Back to shopping</a>
    <h2 style="text-align:center;">Items in your cart, {{user.username}}</h2><hr>
    {% if c_items %}
    {% for item in items %}
    {% for citem in c_items %}
    
      {% if citem.item == item.name %}
      <div class="card" style="width: auto; margin: 2em; padding: 10px;">
      <div style="width: 100%;height: auto;overflow: hidden;">
      <p>
      <h3 style="margin-left: 3em;">{{citem.item}} : 
      <strong style="flex:2; margin-right:20%;">$ {{item.price}}</strong><a class="btn btn-primary" href="{% url 'order' param1=item.name param2='remove' %}" > - </a> {{citem.quantity}} <a class="btn btn-primary" href="{% url 'order' param1=item.name param2='add' %}"> + </a></p>
      </h3></div></div>
      {% endif %}
      {% endfor %}{% endfor %}
      
      <br><hr><h1>Bill Amount: $ {{order.total_bill}}, Quantity: {{order.total_quantity}}<a href="{% url 'confirm' %}" class="btn btn-primary conf" style="margin-left: 2em;">Confirm the order</a></h1>
      
      {% else %}
      <h1 style="text-align: center;">Your cart is empty</h1>
      <hr>
      <br><h1 style="margin-left:1em;">Bill Amount: $ 0.00, Quantity: 0</h1>
      {% endif %}
        
      
        
    </div>
    
    </div>
    <script>
      var updatebtns = document.getElementsByClassName('conf')

      for(var i = 0; i < updatebtns.length; i++){
          updatebtns[i].addEventListener('click',function(){
              alert('Confirmed the order, and emptying the cart')
          })
      }
    </script>
    
</body>

<script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js" integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q" crossorigin="anonymous"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js" integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl" crossorigin="anonymous"></script>

</html>